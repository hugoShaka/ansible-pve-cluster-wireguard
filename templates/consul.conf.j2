{
  "data_dir": "/var/consul",
  "log_level": "INFO",
  "ui": true,
  "node_name": "{{ansible_hostname}}",
  "server": true,
  "bootstrap_expect": 3,
  "bind_addr": "{{internal_ip}}",
  "retry_join": ["{{groups['consul']|difference([inventory_hostname]) | map('extract', hostvars, 'internal_ip') | join('","')}}"]
}

