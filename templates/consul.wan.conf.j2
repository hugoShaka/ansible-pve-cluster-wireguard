{
  "datacenter": "{{consul_datacenter}}",
  "data_dir": "/var/consul",
  "log_level": "INFO",
  "node_name": "{{ansible_hostname}}",
  "server": true,
  "bootstrap": true,
  "bind_addr": "{{internal_ip}}",
  "retry_join_wan": ["{{groups['consul']|difference([inventory_hostname]) | map('extract', hostvars, 'internal_ip') | join('","')}}"]
}

